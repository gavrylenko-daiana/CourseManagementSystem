@using UI.ViewModels
@using Core.Enums

@model IEnumerable<AssignmentViewModel>
@*@foreach (var assignment in Model)
{
    <div class="card text-center m-3">
        <div class="card-header">Featured</div>
        <div class="card-body">
            <h5 class="card-title">@assignment.Name</h5>
            <p class="card-text">With supporting text below as a natural lead-in to additional content.</p>
            <a href="#" class="btn btn-primary">Button</a>
        </div>
        <div class="card-footer text-muted">2 days ago</div>
    </div>
}*@
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Create New Assignment</title>
    <!-- Add Bootstrap CSS link here -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Add Font Awesome CSS -->
    <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
</head>
<body>
    <div class="row mt-3">
        @foreach (var assignment in Model)
        {
            <div class="col-sm-6">
                <div class="card">
                    <div class="card-body">
                        <h5 class="card-title">@assignment.Name</h5>
                        <p class="card-text">@assignment.Description</p>
                        @if (!User.IsInRole(AppUserRoles.Student.ToString()))
                        {
                            if(assignment.AssignmentAccess == AssignmentAccess.Planned)
                            {
                                <div class="inline-icon">
                                    <i class="fa fa-times" aria-hidden="true"></i>Access denied
                                </div>
                            }
                            else if(assignment.AssignmentAccess == AssignmentAccess.InProgress)
                            {
                                <a href="#" class="btn btn-primary">Add answer</a>
                            }
                            else if(assignment.AssignmentAccess == AssignmentAccess.AwaitingApproval)
                            {
                                <div class="inline-icon">
                                    <i class="fa fa-hourglass" aria-hidden="true"></i>Wait
                                </div>
                            }
                            else
                            {
                                <div class="inline-icon">
                                    <i class="fa fa-star" aria-hidden="true"></i> Grade: @assignment.UserAssignment.Grade
                                </div>
                            }
                        }

                        @if(assignment.AssignmentAccess == AssignmentAccess.Planned || assignment.AssignmentAccess == AssignmentAccess.InProgress)
                        {
                            <a href="#" class="btn btn-primary">Edit assignment</a>
                        }
                        else if (assignment.AssignmentAccess == AssignmentAccess.AwaitingApproval)
                        {
                            <a href="#" class="btn btn-primary">See all answers</a>
                        }
                        else
                        {
                            <a href="#" class="btn btn-primary">Delete</a>
                        }
                    </div>
                    <div class="card-footer text-muted">Start Date: @assignment.StartDate.ToString("d")</div>
                    <div class="card-footer text-muted">End date: @assignment.EndDate.ToString("d")</div>
                </div>
            </div>
        }
    </div>
    <!-- Add Bootstrap JS and other scripts here if needed -->
    <!-- This script is for Bootstrap's JavaScript plugins, including the ones used in the form -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>

